# 指示内容
## 実現すべき目標
1. コードの可読性の向上
2. 機能の保守性・信頼性の向上

## 具体的に必要な作業
- 各ファイルごとの問題点の診断
- 単一責任の原則による責務の分離
- 各コンポーネントの疎結合化
- ハードコードの解決
- 関数・変数の整理
- 記述の順序の整理
- コメントの整理・日本語化

## 【**最重要**】絶対に守るべき制約
- 本リファクタリングに先立ち、必ず現行コードの状態を基準（ベースライン）として記録してください。具体的には、主要なユーザーフローが正常に動作することを確認したうえで、パフォーマンス指標（Lighthouse 等による計測結果）および画面表示結果を取得・保存し、リファクタリング後はこれらと比較して同等以上であることを確認するものとします。
- リファクタリング後の受け入れ条件は、主観的な判断ではなく、定量的・機械的に検証可能な基準によって判定してください。既存の機能がすべて動作すること、UI表示が変更されていないこと、ならびにパフォーマンス指標が悪化していないことを、テストや計測結果によって明示的に確認する必要があります。
- すべての修正作業は、現行コードを直接変更せず、新規ブランチ上で行ってください。変更は論理的に意味のある単位で管理し、どのような意図でどの部分を修正したのかが後から追跡できる状態を維持してください。元の状態へ確実に戻せることは、本リファクタリングの前提条件とします。
- リファクタリングの過程および結果については、修正前後の差分が明確に分かる形で整理してください。特に、可読性・保守性・パフォーマンスの観点で、どの問題がどのように解決されたのかを説明可能な状態にしておくことを求めます。
- 最終的な成果物として、修正されたすべてのファイルに加え、実施した変更の一覧、検証結果、および既存機能・UIが維持されていることを確認した根拠を提示してください。これらが揃って初めて、今回のリファクタリングは完了と見なされます。